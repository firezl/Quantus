Bootstrap: docker
From: pytorch/pytorch:1.10.0-cuda11.3-cudnn8-runtime

%files

  ../../scripts /opt/scripts

%post

  export "PATH=/opt/conda/bin:$PATH"
  python3 -m pip install \
    "numpy>=1.19.5" \
    "opencv-python>=4.5.5.62" \
    "scikit-image>=0.19.3" \
    "scikit-learn>=0.24.2" \
    "scipy>=1.7.3" \
    "tqdm>=4.62.3" \
    "matplotlib>=3.3.4" \
    "torch<=1.11.0" \
    "torchvision<=0.12.0" \
    "tensorflow>=2.5.0" \
    "captum>=0.6.0" \
    "tf-explain>=0.3.1" \
    "zennit>=0.5.1" \
    wandb \
    torchnet \
    torchsummary \

  apt-get update -y
  apt-get install -y libglib2.0-0 libx11-6 libxext6

%runscript

  cd /opt/scripts/
  python main.py "$@"

